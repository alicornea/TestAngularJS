<div class="complaints">
    <a class="btn btnComplaint icon-plus" href="#/Complaint/Add"><span>Add New</span></a>
    <br/>
    <br/>
    <table id="rounded-corner" summary="Complaints">
        <thead>
            <tr>
                <th scope="col" class="rounded-header-left"></th>
                <th scope="col" class="rounded">Refference Number</th>
                <th scope="col" class="rounded">Text</th>
                <th scope="col" class="rounded">Type</th>
                <th scope="col" class="rounded">Workgroup</th>
                <th scope="col" class="rounded">Last Modification Date</th>
                <th scope="col" class="rounded">Actions</th>
                <th scope="col" class="rounded-header-right"></th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <td class="rounded-foot-left">&nbsp;</td>
                <td colspan="6">Page {{(offset / complaintsPerPage + 1) | number:0}} of {{numberOfPages}}</td>
                <td class="rounded-foot-right">&nbsp;</td>
            </tr>
        </tfoot>
        <tbody>
            <tr ng-repeat="complaint in complaints">

                <td></td>

                <td>{{complaint.value.refNo}}</td>
                <td>{{complaint.value.text}}</td>
                <td>{{complaint.value.type}}</td>
                <td>{{complaint.value.workgroup}}</td>
                <td>{{complaint.value.date}}</td>
                <td>
                    <a class="btn btnComplaint icon-arrow-right" href="#/Complaint/{{complaint.value._id}}"><span>Details</span></a>
                    <a class="btn btnComplaint icon-cog" href="#/Complaint/Edit/{{complaint.value._id}}"><span>Edit</span></a>
                    <a class="btn btnComplaint icon-remove" href="#" confirmed-click="deleteComplaint(complaint.doc)" confirm-click="Are you sure you want to delete this Complaint?"><span>Delete</span></a>
                    <a class="btn btnComplaint  icon-plus" href="#/action/new/{{complaint.value._id}}"><span>Create Action</span></a>
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <table>
        <tbody>
            <tr>
                <td style="text-align:left">
                    <a class="btn btnComplaint icon-arrow-left" href="#" ng-hide="isPrevPage()" ng-click="getComplaints(prevPageStartKeys.length > 0 ? prevPageStartKeys.pop() : '', false)"><span>Prev Page</span></a>
                </td>
                <td></td>
                <td style="text-align:right">
                    <a class="btn btnComplaint icon-arrow-right" href="#" ng-hide="isNextPage()" ng-click="getComplaints(nextPageStartKey, true)"><span>Next Page</span></a>
                </td>
            </tr>
            <tr>
                <td style="text-align:left">
                    <a class="btn btnComplaint icon-arrow-left" href="#" ng-click="getComplaintsByPageIndex(0)"><span>First Page</span></a>
                </td>
                <td style="text-align:center">
                    <table>
                        <tr>
                            <td ng-repeat="page in pages">
                                <a href="#" ng-hide="page != '-'" ng-click="getComplaintsByPageIndex(currentPage - 6)"><span>...</span></a>
                                <a href="#" ng-hide="page == '-' || page == '+'" ng-click="getComplaintsByPageIndex(page - 1)"><span>{{page}}</span></a>
                                <a href="#" ng-hide="page != '+'" ng-click="getComplaintsByPageIndex(currentPage + 4)"><span>...</span></a>
                            </td>
                        </tr>
                    </table>
                </td>
                <td style="text-align:right">
                    <a class="btn btnComplaint icon-arrow-right" href="#" ng-click="getComplaintsByPageIndex(numberOfPages - 1)"><span>Last Page</span></a>
                </td>
            </tr>
        </tbody>
    </table>


    <div>

        <a href="javascript:return false" ng-hide="offset == 0" ng-click="getComplaints(prevPageStartKey)">Prev page</a>
        <a href="javascript:return false" ng-click="getComplaints(nextPageStartKey)">Next page</a> Total complaints : {{noOfComplaints}}
        {{startKey}}
        {{complaintsPerPage}}
    </div>
</div>

