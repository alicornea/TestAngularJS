{"changed":true,"filter":false,"title":"NewJobCtrl.js","tooltip":"/js/Jobs/NewJobCtrl.js","value":"﻿(function () {\n    var app = angular.module(\"mrgApp\");\n\n    var NewJobCtrl = function ($scope, ProjectCouch, $location, $routeParams) {\n\n        console.log(\"test newJobCtrl reporting for duty.\");\n\n        //$scope.job.profession = \"Accountant\";\n\n        $scope.save = function () {\n            $scope.job.date = getCurrentDate();\n            ProjectCouch.save($scope.job, function (job) {\n                $location.path('/jobs');\n            });\n        };\n\n        function getCurrentDate() {\n            var today = new Date();\n            var dd = today.getDate();\n            var mm = today.getMonth() + 1; //January is 0!\n            var yyyy = today.getFullYear();\n            var hh = today.getHours();\n            var min = today.getMinutes();\n            var sec = today.getSeconds();\n\n            if (dd < 10) {\n                dd = '0' + dd\n            }\n\n            if (mm < 10) {\n                mm = '0' + mm\n            }\n\n            hh = addZeroIfNecessary(hh);\n            min = addZeroIfNecessary(min);\n            sec = addZeroIfNecessary(sec);\n\n            return today = mm + '/' + dd + '/' + yyyy + ' ' + hh + \":\" + min + \":\" + sec;\n        };\n\n        function addZeroIfNecessary(field) {\n            if(!isNaN(field) && field < 10)\n            {\n                return field = \"0\" + field;\n            }\n        };\n    };\n\n    app.controller(\"NewJobCtrl\", [\"$scope\", \"ProjectCouch\", \"$location\", \"$routeParams\", NewJobCtrl])\n\n}());","undoManager":{"mark":0,"position":-1,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["﻿"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420532770513}