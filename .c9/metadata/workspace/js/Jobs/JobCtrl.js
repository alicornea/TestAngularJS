{"changed":true,"filter":false,"title":"JobCtrl.js","tooltip":"/js/Jobs/JobCtrl.js","value":"﻿(function () {\n    var app = angular.module(\"mrgApp\");\n\n    var JobCtrl = function ($scope, ProjectCouch, $location, $routeParams, DateTime) {\n        console.log(\"test Job Edit reporting for duty.\");\n\n        var self = this;\n\n        ProjectCouch.get({ q: $routeParams.jobid }, function (job) {\n            self.original = job;\n            $scope.job = new ProjectCouch(self.original);\n        });\n\n        $scope.isClean = function () {\n            return angular.equals(self.original, $scope.job);\n        }\n\n        $scope.destroy = function () {\n            self.original.destroy(function () {\n                $location.path('/jobs');\n            });\n        };\n\n        $scope.save = function () {\n            $scope.job.date = DateTime.currentDateTime();\n            $scope.job.update(function () {\n                $location.path('/jobs');\n            });\n        };\n    };\n\n    app.controller(\"JobCtrl\", ['$scope', 'ProjectCouch', \"$location\", \"$routeParams\", \"DateTime\", JobCtrl]);\n}());","undoManager":{"mark":0,"position":-1,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["﻿"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420532783069}